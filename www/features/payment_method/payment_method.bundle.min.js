angular.module("starter").controller("PaymentModalController",function($scope,Dialog,PaymentMethod){angular.extend($scope,{isLoading:!0,paymentGateways:[]});$scope.closeModal=function(){PaymentMethod.closeModal()};$scope.methodIsAllowed=function(paymentMethod){return $scope.options.methods.indexOf(paymentMethod)>=0};$scope.fetchGateways=function(){PaymentMethod.fetchGateways().then(function(payload){$scope.paymentGateways=payload.gateways},function(error){Dialog.alert("Error",error.message,"OK",-1,"payment_method")}).then(function(){$scope.isLoading=!1})};$scope.paymentModal={onSelect:function(paymentMethod){$scope.options.onSelect(paymentMethod)}};$scope.fetchGateways()});angular.module('starter').service('PaymentMethod',function(Modal,$pwaRequest){var service={modal:null,PAYMENT:'payment',AUTHORIZATION:'authorization',ACTION_PAY:'pay',ACTION_AUTHORIZE:'authorize',ACTION_DELETE:'delete',onStart:function(){},openModal:function($scope,options){Modal.fromTemplateUrl('./features/payment_method/assets/templates/l1/payment-modal.html',{scope:angular.extend($scope,{options:options}),animation:'slide-in-right-left'}).then(function(modal){service.modal=modal;service.modal.show()})},closeModal:function(){service.modal.remove()},fetchGateways:function(){return $pwaRequest.get('/paymentmethod/mobile_gateway/fetch-all')}};return service});Features.insertCSS(":root{--safe-area-inset-top:0;--safe-area-inset-right:0;--safe-area-inset-bottom:0;--safe-area-inset-left:0}@supports (padding-top:constant(safe-area-inset-top)){:root{--safe-area-inset-top:constant(safe-area-inset-top);--safe-area-inset-right:constant(safe-area-inset-right);--safe-area-inset-bottom:constant(safe-area-inset-bottom);--safe-area-inset-left:constant(safe-area-inset-left)}}@supports (padding-top:env(safe-area-inset-top)){:root{--safe-area-inset-top:env(safe-area-inset-top);--safe-area-inset-right:env(safe-area-inset-right);--safe-area-inset-bottom:env(safe-area-inset-bottom);--safe-area-inset-left:env(safe-area-inset-left)}}.platform-overview.platform-cordova{--safe-area-inset-top:1.5em;--safe-area-inset-right:0;--safe-area-inset-bottom:.5em;--safe-area-inset-left:0}","payment_method")